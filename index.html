<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <title>Opsporing Vermist Kind</title>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
    <style>
        body { font-family: sans-serif; background-color: #191970; color: white; text-align: center; padding: 20px; }
        .ui-box { background: rgba(255,255,255,0.1); padding: 20px; border-radius: 10px; display: inline-block; border: 1px solid white; }
        .btn { background: #ffd700; color: black; padding: 15px 25px; margin: 5px; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; font-size: 1.1em; }
        .hidden { display: none !important; }
        #playground-img { max-width: 90vw; border: 5px solid white; margin-top: 20px; }
        .target-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 5px; }
    </style>
</head>
<body>

    <h1>OPSPORING VERMIST KIND</h1>

    <div id="setup-section">
        <div class="ui-box">
            <h3>SYSTEEM LOGIN</h3>
            <button class="btn" onclick="startApp('verbalisant')">UNIT 1: VERBALISANT</button>
            <button class="btn" onclick="startApp('collega')">UNIT 2: COLLEGA</button>
        </div>
    </div>

    <div id="main-app" class="hidden">
        <div id="verbalisant-ui" class="hidden">
            <div class="ui-box">
                <h3>VERBALISANT MENU</h3>
                <div class="target-grid">
                    <button class="btn" onclick="kiesTarget(0)">Kind 1</button>
                    <button class="btn" onclick="kiesTarget(1)">Kind 2</button>
                </div>
                <input type="text" id="input-tekst" placeholder="Typ hier...">
                <button class="btn" onclick="verstuurBericht()">VERSTUUR</button>
            </div>
        </div>

        <div id="collega-ui" class="hidden">
            <div class="ui-box">
                <div id="timer" style="font-size: 2em;">10.0</div>
                <div id="bericht-venster">Wachten...</div>
            </div>
        </div>

        <img src="speeltuin.jpg" id="playground-img">
    </div>

<script>
    // Test of de browser de script-sectie Ã¼berhaupt leest
    console.log("Script geladen!");

    const firebaseConfig = {
        apiKey: "AIzaSyBOo2LzR1IBnsiBR2SCwPJABtaRv0tpKQ4",
        authDomain: "speeltuin-recherche.firebaseapp.com",
        databaseURL: "https://speeltuin-recherche-default-rtdb.europe-west1.firebasedatabase.app/", 
        projectId: "speeltuin-recherche",
        appId: "1:499912834123:web:3c84cbf4d5eb13131961ce"
    };
    
    // Probeer Firebase te starten, maar ga door als het mislukt
    try {
        firebase.initializeApp(firebaseConfig);
        var db = firebase.database();
        var gameRef = db.ref('playground_recherche');
        console.log("Firebase succesvol verbonden");
    } catch (e) {
        console.error("Firebase fout:", e);
    }

    function startApp(rol) {
        console.log("startApp aangeroepen met rol:", rol);
        document.getElementById('setup-section').classList.add('hidden');
        document.getElementById('main-app').classList.remove('hidden');
        
        if(rol === 'verbalisant') {
            document.getElementById('verbalisant-ui').classList.remove('hidden');
        } else {
            document.getElementById('collega-ui').classList.remove('hidden');
            // Alleen luisteren als Firebase werkt
            if(gameRef) luisterNaarUpdates();
        }
    }

    // De rest van de functies (kiesTarget, verstuurBericht, etc.) 
    // laat ik hier even weg om te testen of de knoppen weer 'klikken'.
</script>
</body>
</html>
